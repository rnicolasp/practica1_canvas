/* --- Estilos específicos para el Editor de Canvas --- */

/* Resetea el body para la UI de la app */
body.canvas-editor-body {
    padding: 0;
    margin: 0;
    overflow: hidden; /* Previene el scroll de la página */
    /* Usa la misma fuente que home.css */
    font-family: Arial, Helvetica, sans-serif;
	background: #f6f8fa;
	color: #222;
}

/* El .card principal se convierte en el layout de la app */
.canvas-editor-body .card {
    display: flex;
    flex-direction: column;
    height: 100vh; /* Ocupa toda la altura */
    width: 100%;
    max-width: none;
    padding: 0;
    margin: 0;
    border-radius: 0;
    box-shadow: none;
    background: #fff; /* Fondo blanco para el card principal */
}

/* Barra superior fija */
.canvas-top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 20px;
    border-bottom: 1px solid #eee;
    background: #fff;
    z-index: 10;
    flex-shrink: 0; /* No se encoge */
}

.nav-group, .tool-group {
    display: flex;
    align-items: center;
    gap: 8px;
}

/* Área principal (Solo el canvas) */
.canvas-area { 
	flex: 1; /* Ocupa el espacio restante */
	overflow: auto; /* El canvas central es el que hace scroll */
	padding: 20px;
	background: #f6f8fa; /* Fondo gris claro (el mismo que el body) */
}

.canvas-wrap { 
	border: 1px solid #ccc; 
	display:inline-block; 
	margin: 0 auto; 
    background: #fff; /* El canvas en sí es blanco */
}

/* --- (NUEVO) Panel de Herramientas Flotante --- */
#floating-toolbox {
    position: absolute;
    top: 80px; /* Posición inicial */
    right: 20px; /* Posición inicial */
    width: 300px;
    height: 600px; /* Altura fija, el contenido hará scroll */
    background: #fff;
    border: 1px solid #ccc;
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
    z-index: 20;
    
    /* Layout interno */
    display: flex;
    flex-direction: column;
}

/* Cabecera del panel (para arrastrar) */
.toolbox-header {
    padding: 10px 12px;
    font-weight: 600;
    border-bottom: 1px solid #eee;
    background: #f8f9fa;
    cursor: move;
    border-radius: 8px 8px 0 0;
}

/* Contenedor interno del panel (para el scroll) */
#floating-toolbox .card {
    height: 100%;
    padding: 12px;
    box-shadow: none;
    border: none;
    overflow-y: auto;
    border-radius: 0 0 8px 8px;
    display: flex;
    flex-direction: column;
    max-width: 100%; /* Asegura que no se pase del contenedor flotante */
    width: 100%;
    box-sizing: border-box; /* Incluye el padding en el ancho */
}

#floating-toolbox .form-column {
    max-width: none;
    margin: 0;
}

#floating-toolbox .object-list { 
	list-style:none; 
	padding:0 6px; 
	margin:0; 
	flex:1; /* Ocupa el espacio restante */
	overflow-y:auto; 
    max-height: 250px; /* Límite para que se vean los controles */
}
/* ----------------------------------------------- */

/* Estilos de la lista de objetos (Fix de scroll) */
.object-item { 
	display:flex; 
	justify-content:space-between; 
	align-items:center; 
	padding:6px 4px; 
	border-bottom:1px solid #eee; 
}
.object-left {
    flex: 1; min-width: 0; display: flex; flex-direction: column; gap: 2px;
}
.object-right {
    flex-shrink: 0; margin-left: 8px; 
}
.object-name {
    overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
}
.object-name input {
    width: 100%; box-sizing: border-box; 
}

/* Estilos de selección */
#paintCanvas.select-mode {
    cursor: default;
}
.object-item.selected {
    background-color: #e6f7ff;
}